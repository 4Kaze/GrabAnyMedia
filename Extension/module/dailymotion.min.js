!function(){"use strict";var t="http://www.dailymotion.com/player/metadata/video/{%c}",e=function(t){return t?t.indexOf("#grabanymedia")>-1?t.replace(/\#grabanymedia/gi,""):t.indexOf("?")>-1?t.replace("?","?grabanymedia="+Date.now()+"&"):t.indexOf("#")>-1?t.replace("#","?grabanymedia="+Date.now()+"#"):t+"?grabanymedia="+Date.now():t},n=function(){try{return new XMLHttpRequest}catch(t){}try{return new ActiveXObject("Msxml3.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}return null},r=function(t,r){"function"!=typeof r&&(r=function(){});var o=n();return t=e(t),t&&o?(o.responseType="json",o.overrideMimeType("text/json"),o.open("GET",t,!0),o.onload=function(){o.readyState===o.DONE&&r(o)},void o.send(null)):(r(),!1)},o=function(t){if(t=t||"",0!=t.indexOf("http"))return"";t=t.replace(new RegExp("^(https://|http://)","gi"),"");var e=t.split("/")||[],n=e.length>=1?e[0].split("."):[];return n.length>=2?n[n.length-2].toLowerCase():""},i=function(t){var e,n=/^(https\:\/\/|http\:\/\/|\/\/).*dailymotion\..*\/video\/:?/gi,r=/^(https\:\/\/|http\:\/\/|\/\/).*dailymotion\..*\/embed\/video\/:?/gi;return t.match(n)?e=t.replace(n,""):t.match(r)&&(e=t.replace(r,"")),e?e.replace(/(\/.*|\?.*)/gi,""):""},a=function(e,n){return n=n||function(){},e?void r(t.replace(/\{\%c\}/gi,e),function(t){if(!t||!t.response)return n();var e="Dailymotion";t.response.title&&t.response.title.trim().length>0&&(e=t.response.title.trim().replace(/[^\w]/gi,"_"));try{var r=["144","240","380","480","720","1080"],o=[],i=t.response.qualities;r.forEach(function(t,n){return!i[t]||i[t].length<2?!0:void o.push({url:i[t][1].url,quality:r[n]+"p",type:i[t][1].type+";",title:e})}),n(o)}catch(a){n()}}):n()};window.GAMMODULE={getLinks:function(t,e){if(t=t||document.location.href,e=e||function(){},"dailymotion"!=o(t))return[];var n=i(t);return n?void a(n,function(t){return!t||t.length<1?e():e(t)}):e()}}}();
//# sourceMappingURL=dailymotion.min.js.map